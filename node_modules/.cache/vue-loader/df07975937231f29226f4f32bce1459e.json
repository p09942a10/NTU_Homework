{"remainingRequest":"/Users/kevin/Kevin/Kevin's Website/Kevin's Page/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kevin/Kevin/Kevin's Website/Kevin's Page/src/views/administrator/site/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kevin/Kevin/Kevin's Website/Kevin's Page/src/views/administrator/site/index.vue","mtime":1569910856000},{"path":"/Users/kevin/Kevin/Kevin's Website/Kevin's Page/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kevin/Kevin/Kevin's Website/Kevin's Page/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kevin/Kevin/Kevin's Website/Kevin's Page/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kevin/Kevin/Kevin's Website/Kevin's Page/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport { getAllSiteList } from '@/api/admin-model/site'\n\nexport default {\n  name: 'Site',\n  data() {\n    return {\n      company_title: '',\n      siteList: []\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'token'\n    ])\n  },\n  watch: {\n    '$route'(to, from) {\n      this.getSiteList()\n    }\n  },\n  created() {\n    this.getSiteList()\n  },\n  methods: {\n    getSiteList() {\n      this.company_title = ''\n      const data = {\n        token: this.token,\n      }\n      getAllSiteList(data).then(response => {\n        console.log(response)\n        this.siteList = response.result\n        this.company_title = this.$route.query.company_title\n      })\n    },\n    handleCreateSite() {\n      this.$router.push({ name: 'CreateSite' })\n    },\n    handleEditSite(site_info, company_id, company_title) {\n      const company_info = {\n        company_id: company_id,\n        company_title: company_title\n      }\n      this.$router.push({\n        // path: '/admin/company/edit-company',\n        name: 'EditSite',\n        query: { site_id: site_info.site_id },\n        params: {\n          site_info: site_info,\n          company_info: company_info\n        }\n      })\n    },\n    clickUser(site_id, site_title) {\n      this.$router.push({\n        // path: '/admin/company/edit-company',\n        name: 'SiteUserList',\n        query: {\n          site_id: site_id,\n          site_title: site_title }\n      })\n    }\n  }\n}\n",null]}